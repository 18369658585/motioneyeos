commit e370306deb9c48f4daa4ae4d622a7bd8b3828bef
Author: Joo Aun Saw <jasaw@dius.com.au>
Date:   Mon Aug 19 15:20:52 2019 +1000

    avcodec/v4l2_m2m_enc: use joined with 1st frame header mode

diff --git a/libavcodec/v4l2_m2m_enc.c b/libavcodec/v4l2_m2m_enc.c
index 354d78babb..32aaaf18fb 100644
--- a/libavcodec/v4l2_m2m_enc.c
+++ b/libavcodec/v4l2_m2m_enc.c
@@ -174,7 +174,7 @@ static int v4l2_prepare_encoder(V4L2m2mContext *s)
         v4l2_set_timeperframe(s, avctx->framerate.num, avctx->framerate.den);
 
     /* set ext ctrls */
-    v4l2_set_ext_ctrl(s, MPEG_CID(HEADER_MODE), MPEG_VIDEO(HEADER_MODE_SEPARATE), "header mode");
+    v4l2_set_ext_ctrl(s, MPEG_CID(HEADER_MODE), MPEG_VIDEO(HEADER_MODE_JOINED_WITH_1ST_FRAME), "header mode");
     /* enable bit rate control */
     if (avctx->bit_rate > 1) {
         v4l2_set_ext_ctrl(s, MPEG_CID(FRAME_RC_ENABLE) , 1, "rate control");
